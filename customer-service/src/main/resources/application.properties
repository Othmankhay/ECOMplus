# ==========================================
# APPLICATION CONFIGURATION
# ==========================================
spring.application.name=customer-service
server.port=8081
server.address=0.0.0.0

# ==========================================
# DATABASE CONFIGURATION
# ==========================================
spring.datasource.url=jdbc:h2:mem:customers-db
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# ==========================================
# JPA CONFIGURATION
# ==========================================
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.defer-datasource-initialization=true

# ==========================================
# EUREKA CONFIGURATION
# ==========================================
eureka.client.service-url.defaultZone=http://localhost:8761/eureka
eureka.instance.prefer-ip-address=true
eureka.instance.instance-id=${spring.application.name}:${server.port}

# ==========================================
# SPRING DATA REST
# ==========================================
spring.data.rest.base-path=/api
spring.data.rest.default-page-size=20

# ==========================================
# CUSTOM PROPERTIES
# ==========================================
global.params.p1=default-p1-value
global.params.p2=default-p2-value
customer.x=customer-x-value
customer.y=customer-y-value

# ==========================================
# ACTUATOR CONFIGURATION (IMPORTANT !)
# ==========================================
# Exposer tous les endpoints
management.endpoints.web.exposure.include=*

# Configurer spécifiquement l'endpoint info
management.endpoint.info.enabled=true
management.info.env.enabled=true

# Autres endpoints
management.endpoint.health.enabled=true
management.endpoint.health.show-details=always
management.endpoint.metrics.enabled=true

# CORS pour actuator (optionnel)
management.endpoints.web.cors.allowed-origins=*
management.endpoints.web.cors.allowed-methods=GET,POST

# ==========================================
# INFO PROPERTIES (DOIT ÊTRE APRÈS management.info.env.enabled=true)
# ==========================================
# Informations de base
info.application.name=${spring.application.name}
info.application.version=1.0.0
info.application.description=Customer Management Service
info.application.port=${server.port}

# Informations techniques
info.java.version=17
info.spring.boot.version=3.5.7
info.spring.cloud.version=2025.0.0

# Informations de service
info.service.api.base-path=${spring.data.rest.base-path}
info.service.api.endpoints=/api/customers
info.service.database.type=H2
info.service.database.mode=In-Memory
info.service.eureka.registered=true
info.service.eureka.server=${eureka.client.service-url.defaultZone}

# Informations custom
info.custom.global.p1=${global.params.p1}
info.custom.global.p2=${global.params.p2}
info.custom.customer.x=${customer.x}
info.custom.customer.y=${customer.y}

# Timestamp
info.build.timestamp=2024-12-03T14:30:00Z